<template>
    <header class="site-header">
        <div class="header-inner">
            <div class="brand">
                <div class="logo">DMS</div>
                <div class="brand-name">Array minds portal</div>
            </div>

            <nav class="main-nav" role="navigation" aria-label="Primary navigation">
                <a class="nav-link" class:active={isHomePage} href="https://orgfarm-eee69b4d17-dev-ed.develop.my.site.com/PartnerCommunity/s/" onclick={handleNavClick}>Home</a>
                <a class="nav-link" class:active={isSupportPage} href="https://orgfarm-eee69b4d17-dev-ed.develop.my.site.com/PartnerCommunity/s/support" onclick={handleNavClick}>Support</a>
                <a class="nav-link" class:active={isAboutPage} href="https://orgfarm-eee69b4d17-dev-ed.develop.my.site.com/PartnerCommunity/s/about-us" onclick={handleNavClick}>About Us</a>
                
                <!-- Not Logged In -->
                <template if:false={isLoggedIn}>
                    <button class="nav-login" onclick={handleLogin} aria-label="Login">Login</button>
                </template>

                <!-- Logged In -->
                <template if:true={isLoggedIn}>
                    <button class={portalBtnClass} onclick={handlePortal} aria-label="View Portal">ðŸ“Š View Products</button>
                    <button class={orderPageBtnClass} onclick={handleOrderPage} aria-label="View Order Page">ðŸ›’ My Orders</button>
                    <div class="profile-menu">
                        <button class="profile-btn" onclick={toggleProfileDropdown} aria-label="Profile Menu" title={user.Name}>
                            <span class="profile-avatar">{userInitials}</span>
                            <span class="profile-name">{user.Name}</span>
                        </button>
                        <template if:true={showProfileDropdown}>
                            <div class="profile-dropdown">
                                <div class="dropdown-header">
                                    <span class="dropdown-avatar">{userInitials}</span>
                                    <div class="dropdown-info">
                                        <p class="dropdown-name">{user.Name}</p>
                                        <p class="dropdown-email">{user.Email}</p>
                                        <p class="hero-account"><strong>Account Type:</strong> {displayAccountType}</p>
                                    </div>
                                </div>
                                <div class="dropdown-divider"></div>
                                <button class="dropdown-item" onclick={handleLogout}>Logout</button>
                            </div>
                        </template>
                    </div>
                </template>
            </nav>
        </div>
    </header>
</template>